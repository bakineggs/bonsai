Tests that rules adding a node in the top level can be done at the bottom level of the state tree.

Relies on node removal (couldn't find an independent way to test adding a node while making a program that terminates).
